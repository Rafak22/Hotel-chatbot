{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,useParams}from'react-router-dom';import io from'socket.io-client';import ChatInterface from'./components/ChatInterface';import RoomSelection from'./components/RoomSelection';import QRCodeGenerator from'./components/QRCodeGenerator';import'./App.css';// Socket.IO connection\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let socket;function App(){const[socketConnected,setSocketConnected]=useState(false);useEffect(()=>{// Initialize socket connection\nsocket=io('http://localhost:5000');socket.on('connect',()=>{console.log('Connected to server');setSocketConnected(true);});socket.on('disconnect',()=>{console.log('Disconnected from server');setSocketConnected(false);});return()=>{if(socket){socket.disconnect();}};},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RoomSelection,{})}),/*#__PURE__*/_jsx(Route,{path:\"/room/:roomNumber\",element:/*#__PURE__*/_jsx(ChatRoom,{socket:socket})}),/*#__PURE__*/_jsx(Route,{path:\"/qr\",element:/*#__PURE__*/_jsx(QRCodeGenerator,{})})]})})});}// ChatRoom component that uses the room number from URL\nfunction ChatRoom(_ref){let{socket}=_ref;const{roomNumber}=useParams();const[language,setLanguage]=useState('en');useEffect(()=>{if(socket&&roomNumber){socket.emit('join-room',roomNumber);}},[socket,roomNumber]);return/*#__PURE__*/_jsx(ChatInterface,{socket:socket,roomNumber:roomNumber,language:language,onLanguageChange:setLanguage});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","useParams","io","ChatInterface","RoomSelection","QRCodeGenerator","jsx","_jsx","jsxs","_jsxs","socket","App","socketConnected","setSocketConnected","on","console","log","disconnect","children","className","path","element","ChatRoom","_ref","roomNumber","language","setLanguage","emit","onLanguageChange"],"sources":["C:/Users/RAFA/OneDrive/سطح المكتب/chathotel/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useParams } from 'react-router-dom';\r\nimport io from 'socket.io-client';\r\nimport ChatInterface from './components/ChatInterface';\r\nimport RoomSelection from './components/RoomSelection';\r\nimport QRCodeGenerator from './components/QRCodeGenerator';\r\nimport './App.css';\r\n\r\n// Socket.IO connection\r\nlet socket;\r\n\r\nfunction App() {\r\n  const [socketConnected, setSocketConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Initialize socket connection\r\n    socket = io('http://localhost:5000');\r\n    \r\n    socket.on('connect', () => {\r\n      console.log('Connected to server');\r\n      setSocketConnected(true);\r\n    });\r\n    \r\n    socket.on('disconnect', () => {\r\n      console.log('Disconnected from server');\r\n      setSocketConnected(false);\r\n    });\r\n\r\n    return () => {\r\n      if (socket) {\r\n        socket.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<RoomSelection />} />\r\n          <Route path=\"/room/:roomNumber\" element={<ChatRoom socket={socket} />} />\r\n          <Route path=\"/qr\" element={<QRCodeGenerator />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n// ChatRoom component that uses the room number from URL\r\nfunction ChatRoom({ socket }) {\r\n  const { roomNumber } = useParams();\r\n  const [language, setLanguage] = useState('en');\r\n\r\n  useEffect(() => {\r\n    if (socket && roomNumber) {\r\n      socket.emit('join-room', roomNumber);\r\n    }\r\n  }, [socket, roomNumber]);\r\n\r\n  return (\r\n    <ChatInterface \r\n      socket={socket} \r\n      roomNumber={roomNumber} \r\n      language={language}\r\n      onLanguageChange={setLanguage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,SAAS,KAAQ,kBAAkB,CACpF,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,WAAW,CAElB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,GAAI,CAAAC,MAAM,CAEV,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACd;AACAc,MAAM,CAAGR,EAAE,CAAC,uBAAuB,CAAC,CAEpCQ,MAAM,CAACI,EAAE,CAAC,SAAS,CAAE,IAAM,CACzBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClCH,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAAC,CAEFH,MAAM,CAACI,EAAE,CAAC,YAAY,CAAE,IAAM,CAC5BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCH,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAAC,CAAC,CAEF,MAAO,IAAM,CACX,GAAIH,MAAM,CAAE,CACVA,MAAM,CAACO,UAAU,CAAC,CAAC,CACrB,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEV,IAAA,CAACT,MAAM,EAAAoB,QAAA,cACLX,IAAA,QAAKY,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClBT,KAAA,CAACV,MAAM,EAAAmB,QAAA,eACLX,IAAA,CAACP,KAAK,EAACoB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACH,aAAa,GAAE,CAAE,CAAE,CAAC,cAC9CG,IAAA,CAACP,KAAK,EAACoB,IAAI,CAAC,mBAAmB,CAACC,OAAO,cAAEd,IAAA,CAACe,QAAQ,EAACZ,MAAM,CAAEA,MAAO,CAAE,CAAE,CAAE,CAAC,cACzEH,IAAA,CAACP,KAAK,EAACoB,IAAI,CAAC,KAAK,CAACC,OAAO,cAAEd,IAAA,CAACF,eAAe,GAAE,CAAE,CAAE,CAAC,EAC5C,CAAC,CACN,CAAC,CACA,CAAC,CAEb,CAEA;AACA,QAAS,CAAAiB,QAAQA,CAAAC,IAAA,CAAa,IAAZ,CAAEb,MAAO,CAAC,CAAAa,IAAA,CAC1B,KAAM,CAAEC,UAAW,CAAC,CAAGvB,SAAS,CAAC,CAAC,CAClC,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACd,GAAIc,MAAM,EAAIc,UAAU,CAAE,CACxBd,MAAM,CAACiB,IAAI,CAAC,WAAW,CAAEH,UAAU,CAAC,CACtC,CACF,CAAC,CAAE,CAACd,MAAM,CAAEc,UAAU,CAAC,CAAC,CAExB,mBACEjB,IAAA,CAACJ,aAAa,EACZO,MAAM,CAAEA,MAAO,CACfc,UAAU,CAAEA,UAAW,CACvBC,QAAQ,CAAEA,QAAS,CACnBG,gBAAgB,CAAEF,WAAY,CAC/B,CAAC,CAEN,CAEA,cAAe,CAAAf,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}